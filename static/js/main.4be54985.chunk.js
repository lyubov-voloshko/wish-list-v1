(this["webpackJsonpwish-list-v1"]=this["webpackJsonpwish-list-v1"]||[]).push([[0],{219:function(e,t,a){e.exports=a(422)},220:function(e,t,a){},403:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},422:function(e,t,a){"use strict";a.r(t);a(220),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(31),r=a(26),i=a(62),o=(a(403),a(25)),c=a(33),l=a(7),s=a(8),u=a(9),p=a(11),m=a(10),h=a(12),d=a(0),E=a.n(d),b=(a(408),function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return E.a.createElement("div",{className:"textBox"},E.a.createElement("input",{id:this.props.id,type:this.props.type,className:"textField",placeholder:"Enter",name:this.props.name,value:this.props.value,onChange:this.props.onChange}),E.a.createElement("label",{htmlFor:this.props.id,className:"textFieldLabel"},this.props.label))}}]),t}(d.Component)),f=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return E.a.createElement("div",null,"The page about me",E.a.createElement(b,{label:"Name"}))}}]),t}(d.Component),g=a(20),O=(a(409),a(410),function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return E.a.createElement("button",{type:this.props.type,className:"button button_".concat(this.props.appearance," ").concat(this.props.outlined?"button_outlined":null),onClick:this.props.onClick},this.props.caption)}}]),t}(d.Component));function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y={createWish:function(e){return function(t,a){console.log(e),ue.firestore.add({collection:"wishes"},v({},e,{isGranted:!1,createdAt:new Date})).then((function(){t({type:"WISH_ADD",wish:e})})).catch((function(e){t({type:"GENERAL_ERROR",error:e})}))}}},j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",category:"book",description:"",imageURL:""},a.getValue=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createWish(a.state)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return E.a.createElement("form",{className:"addWishFrom",onSubmit:this.handleSubmit},E.a.createElement(b,{label:"Title",id:"add-title",name:"title",value:this.state.title,onChange:this.getValue}),E.a.createElement("select",{id:"add-category",name:"category",value:this.state.category,onChange:this.getValue},E.a.createElement("option",{value:"book"},"book"),E.a.createElement("option",{value:"clothes"},"clothes"),E.a.createElement("option",{value:"food"},"food"),E.a.createElement("option",{value:"item"},"item"),E.a.createElement("option",{value:"job"},"job"),E.a.createElement("option",{value:"travelling"},"travelling")),E.a.createElement(b,{label:"Put some description",id:"add-description",name:"description",value:this.state.description,onChange:this.getValue}),E.a.createElement(b,{label:"Add image URL",id:"add-imageURL",name:"imageURL",value:this.state.imageURL,onChange:this.getValue}),E.a.createElement(O,{type:"submit",appearance:"primary",caption:"make a wish"}))}}]),t}(d.Component),I=Object(l.b)(null,y)(j),D=a(218),C=(a(411),a(412),function(e){var t=e.children;return E.a.createElement("div",{className:"dialogHeader"},t)}),_=function(e){var t=e.children;return E.a.createElement("div",{className:"dialogContent"},t)},N=function(e){var t=e.children;return E.a.createElement("div",{className:"dialogActions"},t)},S=function(e){var t=e.children,a=(e.open,e.onClose);return E.a.createElement("div",{className:"dialogScreen"},E.a.createElement("div",{className:"dialogScreen__veil",onClick:function(){return a()}}),E.a.createElement("div",{className:"dialogWindow"},t))},T={closeDeleteConfirmation:function(){return function(e){e({type:"WISH_CONFIRM_DELETED_CLOSE"})}},deleteWish:function(e){return function(t,a){ue.firestore.delete({collection:"wishes",doc:e}).then((function(){t({type:"WISH_CONFIRM_DELETED_CLOSE"})})).catch((function(e){console.log(e.message),t({type:"GENERAL_ERROR",error:e})}))}}},L=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.wishToDeleteId,a=e.wishToDelete,n=e.closeDeleteConfirmation,r=e.deleteWish;return E.a.createElement(S,{onClose:function(){return n()}},E.a.createElement(C,null,"Please confirm"),E.a.createElement(_,null,'You are going to delete "',a&&a.title,'" wish.'),E.a.createElement(N,null,E.a.createElement(O,{type:"button",appearance:"primary",outlined:!0,caption:"cancel",onClick:function(){return n()}}),E.a.createElement(O,{type:"button",appearance:"primary",caption:"delete",onClick:function(){return r(t)}})))}}]),t}(d.Component),R=Object(l.b)((function(e){return{wishToDeleteId:e.wishList.wishToDeleteId,wishToDelete:e.firestore.data.wishes?e.firestore.data.wishes[e.wishList.wishToDeleteId]:null}}),T)(L),k={closeEditDialog:function(){return function(e){e({type:"WISH_EDIT_CLOSE"})}},editWish:function(e,t){return function(a,n){ue.firestore.update({collection:"wishes",doc:e},t).then((function(){a({type:"WISH_EDIT_CLOSE"})})).catch((function(e){console.log(e.message),a({type:"GENERAL_ERROR",error:e})}))}}},G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).getValue=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.editWish(a.props.wishToEditId,a.state)},a.state={title:"",category:"",description:"",imageURL:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({title:this.props.wishToEdit.title,category:this.props.wishToEdit.category,description:this.props.wishToEdit.description,imageURL:this.props.wishToEdit.imageURL})}},{key:"render",value:function(){var e=this.props,t=(e.wishToEditId,e.wishToEdit,e.closeEditDialog);return E.a.createElement(S,{onClose:function(){return t()}},E.a.createElement(C,null,"Please edit"),E.a.createElement("form",{onSubmit:this.handleSubmit},E.a.createElement(_,null,E.a.createElement(b,{label:"Title",id:"edit-title",name:"title",value:this.state.title,onChange:this.getValue}),E.a.createElement("select",{id:"edit-category",name:"category",value:this.state.category,onChange:this.getValue},E.a.createElement("option",{value:"book"},"book"),E.a.createElement("option",{value:"clothes"},"clothes"),E.a.createElement("option",{value:"food"},"food"),E.a.createElement("option",{value:"item"},"item"),E.a.createElement("option",{value:"job"},"job"),E.a.createElement("option",{value:"travelling"},"travelling")),E.a.createElement(b,{label:"Put some description",id:"edit-description",name:"description",value:this.state.description,onChange:this.getValue}),E.a.createElement(b,{label:"Add image URL",id:"edit-imageURL",name:"imageURL",value:this.state.imageURL,onChange:this.getValue})),E.a.createElement(N,null,E.a.createElement(O,{type:"button",appearance:"primary",outlined:!0,caption:"cancel",onClick:function(){return t()}}),E.a.createElement(O,{type:"submit",appearance:"primary",caption:"edit"}))))}}]),t}(d.Component),P=Object(l.b)((function(e){return{wishToEditId:e.wishList.wishToEditId,wishToEdit:e.firestore.data.wishes?e.firestore.data.wishes[e.wishList.wishToEditId]:null}}),k)(G),A={closeGrantDialog:function(){return function(e){e({type:"WISH_GRANT_CLOSE"})}},grantWish:function(e,t){var a=v({},t,{isGranted:!0,grantDate:t.grantDate?new Date(t.grantDate):null});return function(t,n){ue.firestore.update({collection:"wishes",doc:e},a).then((function(){t({type:"WISH_GRANT_CLOSE"})})).catch((function(e){console.log(e.message),t({type:"GENERAL_ERROR",error:e})}))}}},W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={grantHelper:"",grantPerson:"",grantDate:"",isGranted:!1},a.getValue=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.grantWish(a.props.wishToGrantId,a.state)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.wishToGrant,a=e.closeGrantDialog;return E.a.createElement(S,{onClose:function(){return a()}},E.a.createElement(C,null,E.a.createElement("div",{class:"illustration"},E.a.createElement("img",{src:"http://dl3.joxi.net/drive/2019/03/15/0007/0703/459455/55/85fc650f04.jpg"}),E.a.createElement("div",{class:"illustration__frame"})),E.a.createElement("div",{class:"headerCaption"},E.a.createElement("span",{class:"highlighted"},"Congrats!"),"Your wish came true!")),E.a.createElement("form",{onSubmit:this.handleSubmit},E.a.createElement(_,null,E.a.createElement("p",null,'Your wish "',t.title,'" was granted'),E.a.createElement("select",{id:"grantHelper",name:"grantHelper",value:this.state.grantHelper,onChange:this.getValue},E.a.createElement("option",{value:"me"},"by me"),E.a.createElement("option",{value:"by"},"by"),E.a.createElement("option",{value:"helper"},"thanks to")),E.a.createElement(b,{label:"Name",id:"grant-person",name:"grantPerson",value:this.state.grantPerson,onChange:this.getValue}),E.a.createElement("p",null,"on"),E.a.createElement(b,{type:"date",label:"date",id:"grant-date",name:"grantDate",value:this.state.grantDate,onChange:this.getValue})),E.a.createElement(N,null,E.a.createElement(O,{type:"button",appearance:"primary",outlined:!0,caption:"cancel",onClick:function(){return a()}}),E.a.createElement(O,{type:"submit",appearance:"primary",caption:"grant"}))))}}]),t}(d.Component),H=Object(l.b)((function(e){return{wishToGrantId:e.wishList.wishToGrantId,wishToGrant:e.firestore.data.wishes?e.firestore.data.wishes[e.wishList.wishToGrantId]:null}}),A)(W),U=(a(413),a(425)),V=a(424),F={openDeleteConfirmation:function(e){return function(t){t({type:"WISH_CONFIRM_DELETED_OPEN",id:e})}},openEditDialog:function(e){return function(t){t({type:"WISH_EDIT_OPEN",id:e})}},openGrantDialog:function(e){return function(t){t({type:"WISH_GRANT_OPEN",id:e})}}},x=Object(l.b)(null,F)((function(e){var t=e.id,a=e.wish,n=e.isAuth,r=e.openDeleteConfirmation,i=e.openEditDialog,o=e.openGrantDialog;return E.a.createElement("div",{className:"wishCard"},a.isGranted?E.a.createElement("div",{id:"grantedMark",className:"granted"},"granted"):null,E.a.createElement("div",{className:"wishImage",role:"img",style:{backgroundImage:"".concat(a.imageURL?"url(".concat(a.imageURL,")"):"url(http://www.mindbodyheartandsoul.org/wp-content/uploads/2016/12/Interstate-60-Episodes-of-the-Road-1.png)"),filter:"".concat(a.imageURL?null:"saturate(2) grayscale(0.75) brightness(1.5) opacity(0.25)")}}),E.a.createElement("div",{className:"wishInfo"},E.a.createElement("div",{className:"info"},E.a.createElement("span",{className:"category"},a.category),E.a.createElement("h2",{className:"wishTitle"},a.title),E.a.createElement("div",{className:"description"},E.a.createElement("p",null,a.description),E.a.createElement("div",{className:"description__veil"}))),n?E.a.createElement("div",{id:"controls",className:"actions"},a.isGranted?null:E.a.createElement("div",{className:"actions__notGranted"},E.a.createElement(O,{type:"button",appearance:"primary",caption:"grant",onClick:function(){return o(t)}}),E.a.createElement(O,{type:"button",appearance:"secondary",caption:"edit",onClick:function(){return i(t)}})),E.a.createElement(O,{type:"button",appearance:"secondary",caption:"remove",onClick:function(){return r(t)}})):null,a.isGranted?E.a.createElement("div",{className:"gratitude"},"The wish was granted",a.createdAt&&a.grantDate?E.a.createElement("span",null," in ",Object(U.a)(new Date(a.createdAt.toDate()),new Date(a.grantDate.toDate()))):null,a.grantPerson?E.a.createElement("span",null," ","helper"===a.grantHelper?"thanks to":a.grantHelper," ",a.grantPerson):null,a.grantDate?E.a.createElement("span",null," on ",a.grantDate&&Object(V.a)(a.grantDate.toDate(),"PPP")):null):null))})),M=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.wishes,a=e.isAuth,n=e.wishToEditId,r=e.wishToGrantId,i=e.wishToDeleteId;return E.a.createElement(E.a.Fragment,null,E.a.createElement("ul",{className:"wishList"},t&&Object.entries(t).map((function(e){var t=Object(D.a)(e,2),n=t[0],r=t[1];if(r)return E.a.createElement("li",{className:"wishList__item",key:n},E.a.createElement(x,{id:n,wish:r,isAuth:a}))}))),r?E.a.createElement(H,null):null,n?E.a.createElement(P,null):null,i?E.a.createElement(R,null):null)}}]),t}(d.Component),B=Object(r.d)(Object(n.firestoreConnect)((function(){return["wishes"]})),Object(l.b)((function(e){return{wishes:e.firestore.data.wishes,isAuth:!e.firebase.auth.isEmpty,wishToGrantId:e.wishList.wishToGrantId,wishToEditId:e.wishList.wishToEditId,wishToDeleteId:e.wishList.wishToDeleteId}})))(M),X={signIn:function(e){return function(t,a,n){return n().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"LOGIN_SUCCESS"})})).catch((function(e){t({type:"LOGIN_ERROR",error:e})}))}}},J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.getValue=function(e){a.setState(Object(g.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return this.props.isAuth?E.a.createElement(c.a,{to:"/"}):E.a.createElement("form",{className:"loginFrom",onSubmit:function(t){return e.handleSubmit(t)}},E.a.createElement(b,{type:"email",label:"Email",id:"email",value:this.state.email,onChange:this.getValue}),E.a.createElement(b,{type:"password",label:"Password",id:"password",value:this.state.password,onChange:this.getValue}),E.a.createElement(O,{appearance:"primary",caption:"log in"}))}}]),t}(d.Component),Y=Object(l.b)((function(e){return{isAuth:!e.firebase.auth.isEmpty}}),X)(J),z=(a(415),function(){return E.a.createElement("ul",{className:"tabs"},E.a.createElement("li",{className:"tab"},E.a.createElement(o.b,{to:"/",className:"tabLink"},"All")),E.a.createElement("li",{className:"tab"},E.a.createElement(o.b,{to:"/current",className:"tabLink"},"Current")),E.a.createElement("li",{className:"tab"},E.a.createElement(o.b,{to:"/granted",className:"tabLink"},"Granted")),E.a.createElement("li",{className:"tab"},E.a.createElement(o.b,{to:"/about",className:"tabLink"},"About me")))});a(416);function K(e){var t=e.children,a=Object(l.c)((function(e){return e.firebase.auth}));return Object(n.isLoaded)(a)?t:E.a.createElement("div",null,"splash screen...")}var Z=Object(l.b)((function(e){return{isAuth:!e.firebase.auth.isEmpty}}),(function(e){return{signOut:function(){return e((function(e,t,a){return a().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})})).catch((function(t){e({type:"GENERAL_ERROR",error:t})}))}))}}}))((function(e){var t=e.isAuth;return E.a.createElement(o.a,null,E.a.createElement(K,null,E.a.createElement("div",{className:"App"},E.a.createElement("header",{className:"header"},E.a.createElement("h1",{className:"header__projectName"},"Wish List")),E.a.createElement(c.b,{path:"/login",component:Y}),t?E.a.createElement(E.a.Fragment,null,E.a.createElement(O,{type:"button",appearance:"secondary",caption:"logout",onClick:e.signOut}),E.a.createElement(I,null)):null,E.a.createElement(z,null),E.a.createElement(c.d,null,E.a.createElement(c.b,{exact:!0,path:"/",component:B}),E.a.createElement(c.b,{path:"/about",component:f})))))})),$=a(91),q=a.n($),Q=a(41),ee=a.n(Q);a(417),a(420);ee.a.initializeApp({apiKey:"AIzaSyA4BJf1CbGVZ-CH8U9FxIwjyjfHa4b1SRE",authDomain:"wish-list-6144b.firebaseapp.com",databaseURL:"https://wish-list-6144b.firebaseio.com",projectId:"wish-list-6144b",storageBucket:"wish-list-6144b.appspot.com",messagingSenderId:"183033496938",appId:"1:183033496938:web:d5b37080e841aac5b89113"}),ee.a.firestore().settings({timestampsInSnapshots:!0});ee.a;var te={},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return console.log("login success"),e;case"LOGIN_ERROR":return console.log("login fail"),console.log(t.error.message),e;case"SIGNOUT_SUCCESS":return console.log("logout success"),e;default:return e}};function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie={wishToDeleteId:null,wishToEditId:null,wishToGrantId:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WISH_CONFIRM_DELETED_OPEN":return re({},e,{wishToDeleteId:t.id});case"WISH_CONFIRM_DELETED_CLOSE":return re({},e,{wishToDeleteId:null});case"WISH_EDIT_OPEN":return re({},e,{wishToEditId:t.id});case"WISH_EDIT_CLOSE":return re({},e,{wishToEditId:null});case"WISH_GRANT_OPEN":return re({},e,{wishToGrantId:t.id});case"WISH_GRANT_CLOSE":return re({},e,{wishToGrantId:null})}return e},ce=Object(r.c)({firebase:n.firebaseReducer,firestore:i.firestoreReducer,auth:ae,wishList:oe}),le=a(217);a.d(t,"store",(function(){return ue}));var se={userProfile:"users"},ue=Object(r.d)(Object(i.reduxFirestore)(ee.a,se),Object(r.a)(le.a.withExtraArgument(n.getFirebase)),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())(r.e)(ce),pe={firebase:ee.a,config:se,dispatch:ue.dispatch,createFirestoreInstance:i.createFirestoreInstance};q.a.render(E.a.createElement(l.a,{store:ue},E.a.createElement(n.ReactReduxFirebaseProvider,pe,E.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[219,1,2]]]);
//# sourceMappingURL=main.4be54985.chunk.js.map